(this["webpackJsonphealth-beat-client"]=this["webpackJsonphealth-beat-client"]||[]).push([[0],{180:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(0),c=t.n(a),i=t(17),s=t.n(i),o=t(24),u=t(21),l=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"Home page"})})},d=t(119),f=t.n(d),b=t(10),j=t(11),p=t(202);function h(){var e=Object(b.a)(["\n  && {\n    color: white;\n    padding: 10px;\n  }\n"]);return h=function(){return e},e}function x(){var e=Object(b.a)(['\n  padding: 1rem 1.5rem;\n  font-size: 0.875rem;\n  color: white;\n  text-decoration: none;\n  font-family: "Roboto", "Helvetica", "Arial", sans-serif;\n    font-weight: 500;\n    line-height: 1.75;\n    border-radius: 4px;\n    letter-spacing: 0.02857em;\n    text-transform: uppercase;\n']);return x=function(){return e},e}function m(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  list-style-type: none;\n"]);return m=function(){return e},e}var O=j.b.ul(m()),g=Object(j.b)(o.c)(x()),v=Object(j.b)(p.a)(h()),w=t(9),y=t.n(w),k=t(13),S=t(20),N=t(63),M=t(64),I=t(118),A=t.n(I).a.create({baseURL:"http://healthbeatserverv2-env.eba-xhqnqefn.eu-central-1.elasticbeanstalk.com/"}),D=new(function(){function e(){Object(N.a)(this,e)}return Object(M.a)(e,[{key:"register",value:function(){var e=Object(k.a)(y.a.mark((function e(n){var t,r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/auth/register",n);case 3:return t=e.sent,r=t.data,a=r.token,c=r.user,localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(c)),e.abrupt("return",{token:a,user:c});case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.isAxiosError){e.next=17;break}return console.log(e.t0.response.data),e.abrupt("return",Promise.reject(e.t0.response.data.message));case 17:return e.abrupt("return",Promise.reject("pop"));case 18:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(k.a)(y.a.mark((function e(n,t){var r,a,c,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.post("/auth/login",{email:n,password:t});case 3:return r=e.sent,a=r.data,c=a.token,i=a.user,localStorage.setItem("token",c),localStorage.setItem("user",JSON.stringify(i)),e.abrupt("return",{token:c,user:i});case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.isAxiosError){e.next=17;break}return console.log(e.t0.response.data),e.abrupt("return",Promise.reject(e.t0.response.data.message));case 17:return e.abrupt("return",Promise.reject());case 18:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.clear()}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"isAuthentificated",value:function(){return!!this.getToken()&&!!this.getUser()}},{key:"getUser",value:function(){var e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch(n){return null}}}]),e}()),E={loginUser:function(e,n){return Promise.reject()},registerUser:function(e){return Promise.reject()},logout:function(){},token:null,isAuthentificated:!1,user:null},z=c.a.createContext(E),C=function(e){var n=e.children,t=Object(a.useState)(D.isAuthentificated()),c=Object(S.a)(t,2),i=c[0],s=c[1],o=Object(a.useState)(D.getToken()),u=Object(S.a)(o,2),l=u[0],d=u[1],f=Object(a.useState)(D.getUser()),b=Object(S.a)(f,2),j=b[0],p=b[1],h=function(){var e=Object(k.a)(y.a.mark((function e(n,t){var r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.login(n,t);case 2:r=e.sent,a=r.token,c=r.user,s(!0),d(a),p(c);case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),x=function(){var e=Object(k.a)(y.a.mark((function e(n){var t,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.register(n);case 2:t=e.sent,r=t.token,a=t.user,s(!0),d(r),p(a);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(r.jsx)(z.Provider,{value:{loginUser:h,registerUser:x,logout:function(){D.logout(),s(!1),d(null),p(null)},token:l,isAuthentificated:i,user:j},children:n})},P=function(e){var n=e.isAuthentificated,t=Object(a.useContext)(z).logout,c=[Object(r.jsx)("li",{children:Object(r.jsx)(g,{to:"/",children:"Home"})},1),Object(r.jsx)("li",{children:Object(r.jsx)(g,{to:"/login",children:"Login"})},2)],i=[Object(r.jsx)("li",{children:Object(r.jsx)(g,{to:"/",children:"Home"})},1),Object(r.jsx)("li",{children:Object(r.jsx)(g,{to:"/statistics/chart",children:"Statistics"})},4),Object(r.jsx)("li",{children:Object(r.jsx)(v,{endIcon:Object(r.jsx)(f.a,{htmlColor:"white"}),onClick:t,children:"Logout"})},3)],s=n?i:c;return Object(r.jsx)(O,{children:s})},q=t(51),L=t(206),T=t(207);function R(){var e=Object(b.a)(["\n  && {  \n    padding: 7px;\n    font-size: 1.2em;\n    width: 200px;\n    color: white;\n    background-color: #ad1f1f;\n    transition: transform 0.1s ease-in-out;\n    align-self: flex-end;\n\n    &:hover {\n      transform: scale(1.03);\n      background-color: #ad1f1f;\n    }\n\n    &:active {\n      transform: scale(1.01);\n      background-color: #ad1f1f;\n    }\n  }\n"]);return R=function(){return e},e}function F(){var e=Object(b.a)(["\n  font-size: 1.1em;\n  color: #ad1f1f;\n"]);return F=function(){return e},e}function B(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return B=function(){return e},e}function H(){var e=Object(b.a)(["\n  && {\n    font-size: 0.8em;\n    padding: 3px 0;\n    height: 20px;\n  }\n"]);return H=function(){return e},e}function J(){var e=Object(b.a)(["\n  && {  \n    input {\n      font-size: 1.3em;\n      padding: 7px 0;\n    }\n\n    label {\n      font-size: 1.2em;\n      margin-bottom: 10px;\n    }\n\n    &::after {\n      border-bottom: 3px solid #ad1f1f;\n    }\n\n    label.Mui-focused {\n      color: #ad1f1f;\n    }\n  }\n"]);return J=function(){return e},e}function U(){var e=Object(b.a)(["\n  font-size: 2.2em;\n  font-weight: 800;\n  letter-spacing: 1px;\n  color: #ad1f1f;\n  margin-bottom: 15px;\n"]);return U=function(){return e},e}function Y(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-width: 800px;\n  margin: 0 auto;\n"]);return Y=function(){return e},e}var G=j.b.form(Y()),_=j.b.h2(U()),V=Object(j.b)(L.a)(J()),Z=Object(j.b)(T.a)(H()),K=j.b.div(B()),Q=j.b.div(F()),W=Object(j.b)(p.a)(R()),X=t(208),$=t(218),ee=function(){var e=Object(a.useContext)(z).loginUser,n=Object(q.b)(),t=n.register,c=n.handleSubmit,i=n.errors,s=Object(a.useState)(""),l=Object(S.a)(s,2),d=l[0],f=l[1],b=Object(u.g)(),j=c(function(){var n=Object(k.a)(y.a.mark((function n(t){var r,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.email,a=t.password,n.prev=1,n.next=4,e(r,a);case 4:b.push("/statistics/chart"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),f(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}());return Object(r.jsxs)(G,{onSubmit:j,children:[Object(r.jsx)(_,{children:"Zaloguj si\u0119"}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",htmlFor:"email",children:"Email"}),Object(r.jsx)(V,{type:"text",name:"email",id:"email",inputRef:t({required:"Email is required"})}),Object(r.jsx)(Z,{children:i.email&&i.email.message})]}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",htmlFor:"password",children:"Password"}),Object(r.jsx)(V,{type:"text",name:"password",id:"password",inputRef:t({required:"Password is required"})}),Object(r.jsx)(Z,{children:i.password&&i.password.message})]}),Object(r.jsxs)(K,{children:[Object(r.jsx)(Q,{children:d}),Object(r.jsx)(W,{type:"submit",children:"Login"})]}),Object(r.jsxs)("p",{children:["You dont have an account? ",Object(r.jsx)(o.b,{to:"/register",children:"Register now here"})]})]})},ne=t(34),te=t(126),re=function(e){e.children;var n=e.isAuthentificated,t=e.component,a=Object(te.a)(e,["children","isAuthentificated","component"]);return Object(r.jsx)(u.b,Object(ne.a)(Object(ne.a)({},a),{},{render:function(e){return n?Object(r.jsx)(t,{}):Object(r.jsx)(u.a,{to:"/login"})}}))},ae=t(125),ce=t(88),ie=t(27),se=t(213),oe=t(209);function ue(){var e=Object(b.a)(["\n  && {\n    display: flex;\n    flex-direction:column;\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(b.a)(["\n  display: flex;\n  /* justify-content: space-between; */\n\n  input {\n    flex: 1;\n  }\n"]);return le=function(){return e},e}function de(){var e=Object(b.a)(["\n  font-size: 1.7em;\n  font-weight: 300;\n  margin-top: 20px;\n"]);return de=function(){return e},e}function fe(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]);return fe=function(){return e},e}var be,je=j.b.form(fe()),pe=j.b.h3(de()),he=(j.b.div(le()),Object(j.b)(oe.a)(ue())),xe=t(22),me={measurements:[],fetchMeasurements:function(){return Promise.resolve()},addMeasurement:function(e){return Promise.resolve()},deleteMeasurement:function(e){return Promise.resolve()}},Oe=Object(a.createContext)(me),ge=function(e){var n=e.children,t=e.measurementService,i=c.a.useState([]),s=Object(S.a)(i,2),o=s[0],u=s[1];function l(){return d.apply(this,arguments)}function d(){return(d=Object(k.a)(y.a.mark((function e(){var n,t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=JSON.parse(localStorage.getItem("measurements")||"[]")).length){e.next=13;break}return console.log("sync..."),e.prev=3,t={Authorization:localStorage.getItem("token")},e.next=7,A.post("/measurements/sync",n,{headers:t});case 7:localStorage.setItem("measurements","[]"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return(b=Object(k.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.fetchAll();case 3:n=e.sent,u(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(){return(j=Object(k.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.addOne(n);case 3:r=e.sent,u([].concat(Object(xe.a)(o),[r])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(){return(p=Object(k.a)(y.a.mark((function e(n){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.deleteOne(n);case 3:r=e.sent,a=o.filter((function(e){return e._id!==r})),u(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,f();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();navigator.onLine&&e()}),[t]),Object(r.jsx)(Oe.Provider,{value:{measurements:o,fetchMeasurements:f,addMeasurement:function(e){return j.apply(this,arguments)},deleteMeasurement:function(e){return p.apply(this,arguments)}},children:n})},ve=t(219),we=t(215);!function(e){e.MORNING="MORNING",e.MIDDAY="MIDDAY",e.EVENING="EVENING"}(be||(be={}));var ye=function(e){e.token;var n=Object(a.useContext)(Oe).addMeasurement,t=Object(q.b)(),c=t.register,i=t.handleSubmit,s=t.errors,o=t.control,u=Object(a.useState)(new Date),l=Object(S.a)(u,2),d=l[0],f=l[1],b=i(function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Object(ne.a)(Object(ne.a)({},t),{},{date:Object(ae.a)(new Date(t.date),"yyyy-MM-dd")}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return Object(r.jsxs)(je,{onSubmit:b,children:[Object(r.jsx)(pe,{children:"Add new measurement!"}),Object(r.jsxs)(oe.a,{container:!0,spacing:3,children:[Object(r.jsx)(he,{item:!0,xs:6,children:Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",htmlFor:"systolic",children:"Systolic:"}),Object(r.jsx)(L.a,{name:"systolic",id:"systolic",type:"number",color:"secondary",inputRef:c({required:"This filed is required",valueAsNumber:!0})}),Object(r.jsx)(T.a,{children:s.systolic&&s.systolic.message})]})}),Object(r.jsx)(he,{item:!0,xs:6,children:Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",htmlFor:"diastolic",children:"Diastolic:"}),Object(r.jsx)(L.a,{name:"diastolic",id:"diastolic",type:"number",color:"secondary",inputRef:c({required:"This filed is required",valueAsNumber:!0})}),Object(r.jsx)(T.a,{children:s.diastolic&&s.diastolic.message})]})}),Object(r.jsx)(he,{item:!0,xs:6,children:Object(r.jsx)(ie.a,{utils:ce.a,children:Object(r.jsx)(se.a,{margin:"none",disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",color:"secondary",name:"date",label:"Date:",InputLabelProps:{color:"secondary"},inputProps:{name:"date",ref:c({required:"Date is required"})},helperText:s.date&&s.date.message,value:d,onChange:function(e){return f(e)}})})}),Object(r.jsx)(he,{item:!0,xs:6,children:Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",children:"Time of day:"}),Object(r.jsx)(q.a,{as:Object(r.jsxs)(we.a,{color:"secondary",MenuProps:{disableScrollLock:!0},children:[Object(r.jsx)(ve.a,{value:"MORNING",children:"Morning"}),Object(r.jsx)(ve.a,{value:"MIDDAY",children:"Midday"}),Object(r.jsx)(ve.a,{value:"EVENING",children:"Evening"})]}),name:"timeOfDay",rules:{required:"Time fo day is required"},control:o,defaultValue:"MORNING"})]})})]}),Object(r.jsx)(Se,{type:"submit",style:{marginTop:"10px"},children:"submit"})]})};function ke(){var e=Object(b.a)(["\n  && {  \n    padding: 7px;\n    font-size: 1.2em;\n    width: 200px;\n    color: white;\n    background-color: #ad1f1f;\n    transition: transform 0.1s ease-in-out;\n    align-self: flex-end;\n\n    &:hover {\n      transform: scale(1.03);\n      background-color: #ad1f1f;\n    }\n\n    &:active {\n      transform: scale(1.01);\n      background-color: #ad1f1f;\n    }\n  }\n"]);return ke=function(){return e},e}var Se=Object(j.b)(p.a)(ke()),Ne=t(120);function Me(){var e=Object(b.a)(["\n  min-height: 400px\n"]);return Me=function(){return e},e}var Ie=j.b.canvas(Me()),Ae=function(e){var n=[],t=[],r=[];return e.sort((function(e,n){return new Date(e.date).getTime()-new Date(n.date).getTime()})).forEach((function(e){n.push(e.date),t.push(e.systolic),r.push(e.diastolic)})),{dates:n,systolics:t,diastolics:r}},De=function(e){var n=e.measurements,t=Object(a.useState)(),c=Object(S.a)(t,2),i=c[0],s=c[1],o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=Ae(n),t=e.dates,r=e.systolics,a=e.diastolics;return o.current&&s(new Ne.Chart(o.current,{type:"line",data:{labels:t,datasets:[{label:"systolic",data:r},{label:"diastolic",data:a}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})),function(){i&&i.destroy()}}),[]),Object(a.useEffect)((function(){if(i){var e=Ae(n),t=e.dates,r=e.systolics,a=e.diastolics;i.data.labels=t,i.data.datasets&&(i.data.datasets[0].data=r,i.data.datasets[1].data=a),i.update()}}),[n,i]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Ie,{ref:o})})},Ee=t(217);function ze(){var e=Object(b.a)(["\n  font-size: 1.7em;\n  font-weight: 300;\n"]);return ze=function(){return e},e}var Ce=j.b.p(ze()),Pe=function(e){var n=e.user,t=n&&Object(Ee.a)(new Date,new Date(n.birthDate));return Object(r.jsxs)(Ce,{children:[null===n||void 0===n?void 0:n.firstName," ",null===n||void 0===n?void 0:n.lastName,", ",t," years old"]})};function qe(){var e=Object(b.a)(["\n  font-size: 1.1em;\n  color: #ad1f1f;\n"]);return qe=function(){return e},e}function Le(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Le=function(){return e},e}function Te(){var e=Object(b.a)(["\n  && {\n    font-size: 0.8em;\n    padding: 3px 0;\n    height: 20px;\n  }\n"]);return Te=function(){return e},e}function Re(){var e=Object(b.a)(["\n  && {  \n    input {\n      font-size: 1.3em;\n      padding: 7px 0;\n    }\n\n    label {\n      font-size: 1.2em;\n      margin-bottom: 10px;\n    }\n\n    &::after {\n      border-bottom: 3px solid #ad1f1f;\n    }\n\n    label.Mui-focused {\n      color: #ad1f1f;\n    }\n  }\n"]);return Re=function(){return e},e}function Fe(){var e=Object(b.a)(["\n  font-size: 2.2em;\n  font-weight: 800;\n  letter-spacing: 1px;\n  color: #ad1f1f;\n  margin-bottom: 15px;\n"]);return Fe=function(){return e},e}function Be(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-width: 500px;\n  margin: 0 auto;\n"]);return Be=function(){return e},e}var He=j.b.form(Be()),Je=j.b.h2(Fe()),Ue=Object(j.b)(L.a)(Re()),Ye=Object(j.b)(T.a)(Te()),Ge=j.b.div(Le()),_e=j.b.div(qe()),Ve=function(){var e=Object(a.useContext)(z).registerUser,n=Object(q.b)(),t=n.register,c=n.handleSubmit,i=n.errors,s=n.control,o=Object(a.useState)(""),l=Object(S.a)(o,2),d=l[0],f=l[1],b=Object(u.g)(),j=c(function(){var n=Object(k.a)(y.a.mark((function n(t){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e(Object(ne.a)(Object(ne.a)({},t),{},{birthDate:t.birthDate.toISOString().substring(0,10)}));case 3:b.push("/statistics/chart"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),f(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()),p={firstName:t({required:"First name is required",minLength:{value:2,message:"Minimum 2 characters"},maxLength:{value:16,message:"Maximum 16 characters"}}),lastName:t({required:"Last name is required",minLength:{value:2,message:"Minimum 2 characters"},maxLength:{value:16,message:"Maximum 16 characters"}}),email:t({required:"Email is required",minLength:{value:4,message:"Minimum 4 characters"},pattern:{value:/(.+)@(.+){2,}\.(.+){2,}/,message:"Invalid email format"}}),password:t({required:"Password is required",minLength:{value:8,message:"Minimum 2 characters"},maxLength:{value:16,message:"Maximum 16 characters"}})};return Object(r.jsxs)(He,{onSubmit:j,children:[Object(r.jsx)(Je,{children:"Register now!"}),Object(r.jsxs)(Ge,{children:[Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",children:"First name"}),Object(r.jsx)(Ue,{name:"firstName",inputRef:p.firstName}),Object(r.jsx)(Ye,{children:i.firstName&&i.firstName.message})]}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",children:"Last name"}),Object(r.jsx)(Ue,{name:"lastName",inputRef:p.lastName}),Object(r.jsx)(Ye,{children:i.lastName&&i.lastName.message})]})]}),Object(r.jsx)(ie.a,{utils:ce.a,children:Object(r.jsx)(q.a,{as:Object(r.jsx)(se.a,{margin:"none",disableToolbar:!0,variant:"inline",label:"Birth date",format:"MM/dd/yyyy",helperText:i.birthDate&&function(e){switch(e.type){case"required":return"Birth date is required";case"isPastDate":return"Birth date cannot be in future";case"is13YearsOld":return"Minimal age required to use this app is 13"}}(i.birthDate),value:new Date,onChange:function(e){return console.log(e)}}),id:"date",name:"birthDate",rules:{required:"Last name is required",validate:{isPastDate:function(e){return e.getTime()<Date.now()},is13YearsOld:function(e){return e.getTime()<Date.now()-409968e6}}},control:s,defaultValue:new Date})}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",children:"Email"}),Object(r.jsx)(Ue,{name:"email",inputRef:p.email}),Object(r.jsx)(Ye,{children:i.email&&i.email.message})]}),Object(r.jsxs)(X.a,{children:[Object(r.jsx)($.a,{color:"secondary",children:"Password"}),Object(r.jsx)(Ue,{name:"password",inputRef:p.password}),Object(r.jsx)(Ye,{children:i.password&&i.password.message})]}),Object(r.jsxs)(Ge,{children:[Object(r.jsx)(_e,{children:d}),Object(r.jsx)(Se,{type:"submit",children:"Submit"})]})]})},Ze=t(211);function Ke(){var e=Object(b.a)(["\n  && {\n    padding: 10px;\n    margin-right: 10px;\n  }\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(b.a)(["\n  padding: 0 5px;\n  flex: ",";\n  width: ","px;\n"]);return Qe=function(){return e},e}function We(){var e=Object(b.a)(["\n  display: flex;\n  padding: 10px;\n  align-items: center;\n\n  border-radius: 5px;\n\n  background-color: "," !important;\n  color: "," !important;\n  height: ",";\n\n  transition: background-color 0.1s ease-in-out;\n\n  &:nth-child(odd) {\n    background-color: #eaeaea;\n  }\n\n  &:not(:first-child):hover {\n    background-color: #d6d6d6 !important;\n  }\n"]);return We=function(){return e},e}function Xe(){var e=Object(b.a)(["\n  font-size: 1em;\n  list-style-type: none;\n  padding: 30px;\n"]);return Xe=function(){return e},e}var $e=j.b.ul(Xe()),en=j.b.li(We(),(function(e){return e.header?"#ad1f1f":"default"}),(function(e){return e.header?"white":"default"}),(function(e){return e.header?"60px":"deault"})),nn=j.b.span(Qe(),(function(e){return e.flex||"none"}),(function(e){return e.width||"auto"})),tn=Object(j.b)(Ze.a)(Ke()),rn=t(122),an=t.n(rn),cn=t(121),sn=t.n(cn),on=function(e){var n=e.measurements,t=Object(r.jsxs)(en,{header:!0,children:[Object(r.jsx)(nn,{width:40,children:"Lp."}),Object(r.jsx)(nn,{flex:4,children:"Systolic/Diastolic"}),Object(r.jsx)(nn,{flex:2,children:"Date"}),Object(r.jsx)(nn,{flex:2,children:"Time of day"}),Object(r.jsx)(nn,{width:120,children:"Actions"})]},0),a=n.map((function(e,n){return Object(r.jsxs)(en,{children:[Object(r.jsx)(nn,{width:40,children:n}),Object(r.jsxs)(nn,{flex:4,children:[e.systolic,"/",e.diastolic]}),Object(r.jsx)(nn,{flex:2,children:e.date}),Object(r.jsx)(nn,{flex:2,children:e.timeOfDay}),Object(r.jsxs)(nn,{width:120,children:[Object(r.jsx)(o.b,{to:"/statistics/measurements/".concat(e._id,"/edit"),children:Object(r.jsx)(tn,{children:Object(r.jsx)(sn.a,{})})}),Object(r.jsx)(o.b,{to:"/statistics/measurements/".concat(e._id,"/delete"),children:Object(r.jsx)(tn,{children:Object(r.jsx)(an.a,{})})})]})]},e._id)}));return Object(r.jsxs)($e,{children:[t,a]})};function un(){var e=Object(b.a)(["\n  font-size: 1.4em;\n  font-weight: 300;\n"]);return un=function(){return e},e}function ln(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #ad1f1f;\n  padding: 5px 10px;\n  color: white;\n"]);return ln=function(){return e},e}function dn(){var e=Object(b.a)(["\n  z-index: 101;\n  border-radius: 5px;\n  overflow: hidden;\n\n  width: ","px;\n  height: ","px;\n  animation: "," 0.15s ease-in-out;\n\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n"]);return dn=function(){return e},e}function fn(){var e=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 101;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: "," 0.15s ease-in-out;\n"]);return fn=function(){return e},e}function bn(){var e=Object(b.a)(["\n  0% { opacity: 0 }\n  100% { opacity: 1 }\n"]);return bn=function(){return e},e}function jn(){var e=Object(b.a)(["\n  0% { transform: scale(0.6); opacity: 0.6; }\n  100% { transform: scale(1.0); opacity: 1; }\n"]);return jn=function(){return e},e}var pn=Object(j.c)(jn()),hn=Object(j.c)(bn()),xn=j.b.div(fn(),hn),mn=j.b.div(dn(),(function(e){return e.width||400}),(function(e){return e.height||400}),pn),On=j.b.header(ln()),gn=j.b.h3(un()),vn=t(123),wn=t.n(vn),yn=function(e){var n=e.title,t=e.children,a=e.width,c=void 0===a?400:a,s=e.height,o=void 0===s?400:s,l=Object(u.g)(),d=function(e){e.stopPropagation(),l.goBack()};return Object(i.createPortal)(Object(r.jsx)(xn,{onClick:d,children:Object(r.jsxs)(mn,{onClick:function(e){return e.stopPropagation()},width:c,height:o,children:[Object(r.jsxs)(On,{children:[Object(r.jsx)(gn,{children:n}),Object(r.jsx)(Ze.a,{onClick:d,children:Object(r.jsx)(wn.a,{htmlColor:"white"})})]}),t]})}),document.getElementById("modal"))};function kn(){var e=Object(b.a)(["\n  flex: 1;\n  display: flex;\n  gap: 10px;\n  padding: 10px;\n  \n"]);return kn=function(){return e},e}var Sn=j.b.div(kn()),Nn=function(){var e=Object(a.useContext)(Oe).deleteMeasurement,n=Object(u.h)().id,t=Object(u.g)(),c=function(){var r=Object(k.a)(y.a.mark((function r(){return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(n);case 2:t.goBack();case 3:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return Object(r.jsxs)(Sn,{children:[Object(r.jsx)(Se,{onClick:c,children:"YES"}),Object(r.jsx)(Se,{onClick:function(){return t.goBack()},children:"NO"})]})};function Mn(){var e=Object(b.a)(["\n  && {\n    color: white;\n    padding: 10px;\n  }\n"]);return Mn=function(){return e},e}function In(){var e=Object(b.a)(["\n  color: white;\n  text-decoration: none;\n"]);return In=function(){return e},e}function An(){var e=Object(b.a)(["\n  padding: 30px;\n  background-color: #ad1f1f;\n  color: white;\n  font-size: 1em;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  -webkit-box-shadow: 0px 0px 16px 0px rgba(148,148,148,1);\n  -moz-box-shadow: 0px 0px 16px 0px rgba(148,148,148,1);\n  box-shadow: 0px 0px 16px 0px rgba(148,148,148,1);\n"]);return An=function(){return e},e}var Dn=j.b.footer(An()),En=j.b.a(In()),zn=Object(j.b)(p.a)(Mn()),Cn=t(124),Pn=t.n(Cn),qn=function(){return Object(r.jsxs)(Dn,{children:["Health Beat / 2020 / Adrian Furman / TI",Object(r.jsx)(En,{href:"",children:Object(r.jsx)(zn,{endIcon:Object(r.jsx)(Pn.a,{htmlColor:"white"}),children:"source code"})})]})},Ln=t.p+"static/media/cardiogram.e0cff65c.svg";function Tn(){var e=Object(b.a)(["\n  font-size: 2em;\n  font-weight: 500;\n  letter-spacing: 2px;\n  color: white;\n\n  display: flex;\n  align-items: center;\n  gap: 10px;\n"]);return Tn=function(){return e},e}var Rn=j.b.h1(Tn()),Fn=function(){return Object(r.jsxs)(Rn,{children:[Object(r.jsx)("img",{src:Ln,alt:""}),"HEALTH BEAT"]})},Bn=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(Ve,{})})},Hn=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(ee,{})})};function Jn(){var e=Object(b.a)(["\n  text-decoration: none;\n  color: white;\n  font-size: 1.5em;\n  border-radius: 5px;\n  padding: 10px 20px;\n  background-color: #999999;\n  font-weight: 400;\n"]);return Jn=function(){return e},e}function Un(){var e=Object(b.a)(["\n  width: 100%;\n  padding: 20px;\n  -webkit-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);\n  -moz-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);\n  box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.75);\n  border-radius: 15px;\n"]);return Un=function(){return e},e}function Yn(){var e=Object(b.a)(["\n  flex: ",";\n  width: ",";\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return Yn=function(){return e},e}function Gn(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: ",";\n  padding: ","px;\n  gap: ","px;\n"]);return Gn=function(){return e},e}var _n=j.b.div(Gn(),(function(e){return e.layout||"space-between"}),(function(e){return e.padding||30}),(function(e){return e.gap||0})),Vn=j.b.div(Yn(),(function(e){return e.flex||"default"}),(function(e){return e.width||""})),Zn=j.b.img(Un()),Kn=Object(j.b)(o.c)(Jn()),Qn=t.p+"static/media/profile-placeholder.cb3a859d.jpg",Wn=function(){var e=Object(a.useContext)(Oe),n=e.measurements,t=e.fetchMeasurements,c=Object(a.useContext)(z),i=c.token,s=c.user;return Object(a.useEffect)((function(){t()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(_n,{gap:60,children:[Object(r.jsx)(Vn,{width:"35%",children:Object(r.jsx)(Zn,{src:Qn})}),Object(r.jsxs)(Vn,{flex:1,children:[Object(r.jsx)(Pe,{user:s}),Object(r.jsx)(ye,{token:i})]})]}),Object(r.jsxs)(_n,{gap:10,layout:"flex-start",children:[Object(r.jsx)(Kn,{to:"/statistics/chart",activeStyle:{backgroundColor:"#ad1f1f"},children:"Chart"}),Object(r.jsx)(Kn,{to:"/statistics/measurements",activeStyle:{backgroundColor:"#ad1f1f"},children:"Measurements list"})]}),Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{path:"/statistics/chart",exact:!0,render:function(){return Object(r.jsx)(De,{measurements:n})}}),Object(r.jsx)(u.b,{path:"/statistics/measurements",render:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(on,{measurements:n}),Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{path:"/statistics/measurements/:id/delete",children:Object(r.jsx)(yn,{title:"Are you sure?",height:200,children:Object(r.jsx)(Nn,{})})}),Object(r.jsx)(u.b,{path:"/statistics/measurements/:id/edit",children:Object(r.jsx)(yn,{title:"Edit measurement",children:Object(r.jsx)("h1",{children:"EDIT"})})})]})]})}})]})]})};function Xn(){var e=Object(b.a)(["\n  background-color: #f5f5f5;\n  flex: 1;\n  padding: 30px;\n  -webkit-box-shadow: 0px 0px 16px 0px rgba(148,148,148,1);\n  -moz-box-shadow: 0px 0px 16px 0px rgba(148,148,148,1);\n  box-shadow: 0px 0px 16px 0px rgba(148,148,148,1);\n"]);return Xn=function(){return e},e}function $n(){var e=Object(b.a)(["\n  padding: 0 10px;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return $n=function(){return e},e}function et(){var e=Object(b.a)(["\n  background-color: #ad1f1f;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  color: white;\n  height: 70px;\n  z-index: 100;\n"]);return et=function(){return e},e}function nt(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 1200px;\n  margin: 0 auto;\n  margin-top: 70px;\n  min-height: calc(100vh - 70px);\n"]);return nt=function(){return e},e}function tt(){var e=Object(b.a)(["\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-size: 1em;\n    font-family: 'Roboto', sans-serif;\n  }\n"]);return tt=function(){return e},e}var rt=Object(j.a)(tt()),at=j.b.div(nt()),ct=j.b.header(et()),it=j.b.div($n()),st=j.b.main(Xn()),ot=new(function(){function e(){Object(N.a)(this,e)}return Object(M.a)(e,[{key:"addOne",value:function(){var e=Object(k.a)(y.a.mark((function e(n){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("measurements")||"[]"),r=Object(ne.a)(Object(ne.a)({},n),{},{_id:String(Date.now())}),t.push(r),localStorage.setItem("measurements",JSON.stringify(t)),e.abrupt("return",Promise.resolve(r));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchAll",value:function(){var e=Object(k.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("measurements")||"[]"),e.abrupt("return",Promise.resolve(n));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteOne",value:function(){var e=Object(k.a)(y.a.mark((function e(n){var t,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("measurements")||"[]"),-1===(r=t.findIndex((function(e){return e._id===n})))){e.next=8;break}return a=t.splice(r,1),localStorage.setItem("measurements",JSON.stringify(t)),e.abrupt("return",Promise.resolve(a[0]._id));case 8:throw new Error("No such measurement");case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}()),ut=new(function(){function e(){Object(N.a)(this,e)}return Object(M.a)(e,[{key:"addOne",value:function(){var e=Object(k.a)(y.a.mark((function e(n){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getAuthHeaders(),e.prev=1,e.next=4,A.post("/measurements",n,{headers:t});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0),new Error("not working");case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchAll",value:function(){var e=Object(k.a)(y.a.mark((function e(){var n,t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getAuthHeaders(),e.prev=1,e.next=4,A.get("/measurements",{headers:n});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:throw e.prev=8,e.t0=e.catch(1),console.log(e.t0),new Error("not working");case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteOne",value:function(){var e=Object(k.a)(y.a.mark((function e(n){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getAuthHeaders(),e.prev=1,e.next=4,A.delete("/measurements/".concat(n),{headers:t});case 4:return e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(1),console.log(e.t0),new Error("not working");case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(n){return e.apply(this,arguments)}}()},{key:"getAuthHeaders",value:function(){return{Authorization:localStorage.getItem("token")||""}}}]),e}()),lt=function(e){return function(){var n=Object(a.useState)(navigator.onLine),t=Object(S.a)(n,2),c=t[0],i=t[1],s=function(){i(navigator.onLine)};return Object(a.useEffect)((function(){return window.addEventListener("online",s),window.addEventListener("offline",s),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}),[]),Object(r.jsx)(C,{children:Object(r.jsx)(ge,{measurementService:c?ut:ot,children:Object(r.jsx)(e,{})})})}}((function(){var e=Object(a.useContext)(z).isAuthentificated;return Object(r.jsxs)(at,{children:[Object(r.jsx)(rt,{}),Object(r.jsx)(ct,{children:Object(r.jsxs)(it,{children:[Object(r.jsx)(Fn,{}),Object(r.jsx)(P,{isAuthentificated:e})]})}),Object(r.jsx)(st,{children:Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{path:"/",exact:!0,component:l}),Object(r.jsx)(u.b,{path:"/login",component:Hn}),Object(r.jsx)(u.b,{path:"/register",component:Bn}),Object(r.jsx)(re,{path:"/statistics",isAuthentificated:e,component:Wn})]})}),Object(r.jsx)(qn,{})]})})),dt=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,223)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)(lt,{})})}),document.getElementById("root")),dt(console.log)}},[[180,1,2]]]);
//# sourceMappingURL=main.8d115662.chunk.js.map